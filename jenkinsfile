pipeline {
    agent any

    // environment {
    //     BASE_IMAGE_NAME = 'AWS_Practice_Code'
    //     UNIQUE_TAG = "${BUILD_NUMBER}-${GIT_COMMIT.take(7)}"
    //     DOCKER_IMAGE = "${BASE_IMAGE_NAME}-${UNIQUE_TAG}"
    //     AWS_CREDENTIALS = credentials('aws-credentials')
    // }

    stages {
        stage('Show Env') {
            steps {
                echo "Value of MY_VAR: ${env.MY_VAR}"
                echo "Job Name: ${env.JOB_NAME}"
                echo "Build Number: ${env.BUILD_NUMBER}"
            }
        }

        stage('Print Env Vars') {
            steps {
                sh 'printenv'
                sh 'echo "BUILD_NUMBER is $BUILD_NUMBER"'
                sh 'echo "JOB_NAME is $JOB_NAME"'
            }
        }

        stage('Checkout Code') {
            steps {
                sh 'echo "Checking out the code..."'
                git branch: 'main', url: 'https://github.com/akashthapa1999/Aws_practices_file.git'
            }
        }

        stage('Building') {
            steps {
                sh 'echo "Building the application..."'
            }
        }
    }

    // post {
    //     always {
    //         sh 'docker system prune -f'
    //         cleanWs()
    //     }
    //     success {
    //         echo 'Pipeline completed successfully!'
    //     }
    //     failure {
    //         echo 'Pipeline failed!'
    //     }
    // }
}
